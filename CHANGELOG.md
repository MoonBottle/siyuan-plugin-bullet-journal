# Changelog

## [0.5.1] - 2026-03-02

### Features

- 目录配置为空时自动扫描所有含 `#任务` / `#task` 标记的文档，无需配置目录即可使用
- 设置项按重要性排序：目录配置 → 分组管理 → 午休时间
- 目录配置说明文案优化：明确为项目文件父目录，并提示可通过文档树右键「设置为子弹笔记目录」添加

### Fixes

- 设置弹框打开时不再自动聚焦到第一个目录输入框（对首个路径输入做 focus 防抖）
- 在设置中删除全部目录后，日历/甘特图/项目/待办视图会自动刷新为「扫描所有文档」结果

### Refactors

- 「目录为空」时 getAllDocs 仅查询 content 含 `#任务` 或 `#task` 的 block（type 限定 p/h/l/i），按 root_id 聚合成文档列表再解析，减少无效 API 与解析
- 各 Tab/Dock 始终调用 loadProjects/refresh 并传入 enabledDirectories（可为空），由解析器内部区分按目录过滤与扫描全部

### Docs

- README 增加甘特图、事项详情弹窗截图链接

## [0.5.0] - 2026-03-01

### Features

- 支持通过文档树右键菜单添加扫描目录

### Fixes

- 使用共享 Pinia 实例解决多 tab 间 store 不同步问题
- 修复打开标签页时缺少类型数据的问题
- 修复删除分组时未清理关联目录和默认分组的问题

### Refactors

- 重新组织设置项顺序并优化目录配置UI
- 移除默认视图功能及相关代码
- 重构分组筛选逻辑为视图独立管理
- 重构数据刷新机制以支持完整设置同步
